<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stellar Weather Deep Dive | NASA Space Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font and smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* GitHub Dark Mode background */
        }
        .text-accent {
            color: #00bcd4; /* Cyan/Teal accent color */
        }
        .bg-card {
            background-color: #161b22; /* Slightly lighter dark for cards */
        }
        .data-panel {
            background: linear-gradient(145deg, #161b22, #0d1117);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .solar-glow {
            /* Removed glow effect */
        }
        /* Custom detail toggle styling */
        .detail-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
        }
        .detail-content.active {
            max-height: 500px; /* Arbitrary large value for transition */
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        /* --- Reveal Animation CSS Classes --- */
        .reveal-element {
            /* Initial state (hidden and pushed down/up) */
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        .reveal-element.is-visible {
            /* Final state (visible and in place) */
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Optional: Add a delay for staggered effect */
        .card-delay-1 { transition-delay: 0.1s; }
        .card-delay-2 { transition-delay: 0.2s; }
        .card-delay-3 { transition-delay: 0.3s; }

    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nasa-blue': '#102e5b',
                        'solar-orange': '#ffaa00',
                    }
                }
            }
        }
    </script>
</head>
<body class="text-white">

    <header class="sticky top-0 z-50 bg-gray-900/95 backdrop-blur-sm shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold flex items-center reveal-element">
                <span class="text-solar-orange mr-2">âœ¦</span> Heliophysics Hub
            </h1>
            <nav class="space-x-4">
                <a href="#phenomena" class="text-gray-300 hover:text-accent transition duration-300 reveal-element card-delay-1">Phenomena</a>
                <a href="#watch" class="text-gray-300 hover:text-accent transition duration-300 reveal-element card-delay-2">The Watch</a>
                <a href="#dashboard" class="text-gray-300 hover:text-accent transition duration-300 reveal-element card-delay-3">Dashboard</a>
                <a href="#story" class="text-gray-300 hover:text-accent transition duration-300 reveal-element card-delay-4">Stellar Stories</a>
            </nav>
        </div>
    </header>

    <!-- Spacer with #111827 background between nav and first section -->
    <div style="background-color: #111827; height: 48px; width: 100%;"></div>

    <section class="relative h-screen flex items-center justify-center text-center overflow-hidden">
        <div class="absolute inset-0 z-0 opacity-10">
            <div class="w-full h-full bg-cover bg-center" style="background-image: url('https://placehold.co/1920x1080/cc5500/ffffff?text=SOLAR+FLARE+BACKGROUND'); filter: blur(5px);"></div>
        </div>

        <div class="relative z-10 max-w-4xl p-6 bg-gray-900/70 rounded-xl border border-gray-700 shadow-2xl reveal-element">
            <span class="text-xs font-mono tracking-widest text-accent uppercase">NASA SPACE APPS CHALLENGE FOCUS</span>
            <h2 class="text-6xl font-extrabold mt-2 mb-4 leading-tight">
                Decoding <span class="text-solar-orange">Space Weather</span>
            </h2>
            <p class="text-gray-300 text-xl">
                Explore the physics of Coronal Mass Ejections, Solar Wind, and Plasma. <br class="hidden sm:inline">
                Understanding these phenomena is the first step to telling your Stellar Story.
            </p>
            <a href="#phenomena" class="mt-8 inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-full shadow-lg" style="background-color: #ffaa00; color: #111827;">
                Start the Deep Dive &rarr;
            </a>
        </div>
    </section>

    <section id="phenomena" class="py-20 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-12 border-b-2 border-solar-orange pb-2 reveal-element">
                The Three Pillars of Space Weather
            </h2>

            <div class="grid md:grid-cols-3 gap-8">

                <div class="bg-card p-6 rounded-xl border border-gray-700 shadow-xl reveal-element card-delay-1">
                    <h3 class="text-3xl font-extrabold text-solar-orange mb-3 flex items-center">
                        <span class="mr-2 text-4xl">ðŸ”¥</span> Solar Plasma
                    </h3>
                    <p class="text-gray-400 mb-4">
                        The Sun is not a gas, but a super-hot, electrically charged material known as plasmaâ€”the fourth state of matter. Its movement dictates all solar activity.
                    </p>
                    <button onclick="toggleDetails('plasma-details', this)" class="text-accent hover:underline font-medium focus:outline-none">
                        Show Technical Details
                    </button>
                    <div id="plasma-details" class="detail-content text-sm text-gray-500">
                        <p>Plasma consists of ionized atoms where electrons are stripped from nuclei, making it highly conductive and responsive to magnetic fields. The constant motion of this plasma generates the Sun's complex magnetic fields through a process called the **Solar Dynamo**. These tangled fields store massive amounts of energy, which, when released via **magnetic reconnection**, powers flares and CMEs. Understanding plasma's magnetic behavior is crucial for forecasting major space weather events.</p>
                    </div>
                </div>

                <div class="bg-card p-6 rounded-xl border border-gray-700 shadow-xl reveal-element card-delay-2">
                    <h3 class="text-3xl font-extrabold text-accent mb-3 flex items-center">
                        <span class="mr-2 text-4xl">ðŸ’¨</span> Solar Wind
                    </h3>
                    <p class="text-gray-400 mb-4">
                        A constant flow of charged particles (plasma) escaping the Sun's super-hot corona at supersonic speeds, defining the boundary of our solar system (the heliosphere).
                    </p>
                    <button onclick="toggleDetails('wind-details', this)" class="text-accent hover:underline font-medium focus:outline-none">
                        Show Technical Details
                    </button>
                    <div id="wind-details" class="detail-content text-sm text-gray-500">
                        <p>The solar wind is classified into two types: Slow Wind (300-500 km/s) originating from the Sun's streamer belts, and Fast Wind (700-800 km/s) primarily ejected from coronal holes. It carries the Sun's magnetic field, known as the Interplanetary Magnetic Field (IMF). When the IMF's BZ component (north-south orientation) points southward, it aligns perfectly with Earth's northward magnetic field, allowing efficient energy transfer and triggering intense geomagnetic storms. The speed of the solar wind is a key indicator measured at the L1 Lagrange point.</p>
                    </div>
                </div>

                <div class="bg-card p-6 rounded-xl border border-gray-700 shadow-xl reveal-element card-delay-3">
                    <h3 class="text-3xl font-extrabold text-solar-orange mb-3 flex items-center">
                        <span class="mr-2 text-4xl">ðŸ’¥</span> Coronal Mass Ejections (CMEs) & Flares
                    </h3>
                    <p class="text-gray-400 mb-4">
                        Massive eruptions of magnetized plasma (CMEs) and intense bursts of radiation (Flares). They are the primary drivers of extreme space weather events.
                    </p>
                    <button onclick="toggleDetails('cme-details', this)" class="text-accent hover:underline font-medium focus:outline-none">
                        Show Technical Details
                    </button>
                    <div id="cme-details" class="detail-content text-sm text-gray-500">
                        <p>A CME is a giant magnetic flux rope expanding rapidly (over a million mph). It travels slower than a Solar Flare, an intense burst of X-ray/UV light that reaches Earth in only 8 minutes and causes radio blackouts on the sunlit side of the planet. Flares are classified by intensity (A, C, M, X-class). Fast CMEs can also accelerate high-energy particles into Solar Energetic Particle (SEP) events, which pose severe radiation risks to spacecraft and astronauts and can reach Earth in 30 minutes or less.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-12 border-b-2 border-accent pb-2 reveal-element">
                Earth's Exposure: The Impact on Earthlings
            </h2>

            <div class="grid md:grid-cols-2 gap-10">
                <div class="space-y-6">
                    <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element">
                        <h4 class="text-2xl font-semibold text-accent mb-2">Power Grid Vulnerability (GICs)</h4>
                        <p class="text-gray-400">
                            Geomagnetically Induced Currents (GICs) are generated when CME magnetic fields cause rapid changes in Earth's magnetosphere. These currents flow through long conductors and can overheat or permanently damage high-voltage transformers, leading to widespread and sustained power blackouts, impacting millions of Earthlings.
                        </p>
                    </div>
                    <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element">
                        <h4 class="text-2xl font-semibold text-accent mb-2">GPS and Communication Disruption</h4>
                        <p class="text-gray-400">
                            Space weather causes density changes and ionization in the ionosphere. This scintillation (rapid fluctuation) of the atmosphere scatters radio signals, leading to significant errors or complete loss of lock for GPS systems, crucial for autonomous systems like a farmer's tractor. Research is actively being conducted by centers like SPARTA to better forecast these critical communication disruptions.
                        </p>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element">
                        <h4 class="text-2xl font-semibold text-accent mb-2">Satellite Failure & Drag (SWORD Focus)</h4>
                        <p class="text-gray-400">
                            High-energy solar particles (SEPs) can cause Single Event Upsets (SEUs) in satellite electronics. Additionally, heating of the upper atmosphere increases atmospheric drag, forcing LEO satellites to lose altitude rapidly, requiring costly orbital correction burns. The SWORD Center focuses on improving predictions for these LEO impacts, including the challenge of tracking hazardous orbital debris during events.
                        </p>
                    </div>
                    <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element">
                        <h4 class="text-2xl font-semibold text-accent mb-2">Radiation Hazard (Air & Space)</h4>
                        <p class="text-gray-400">
                            During strong Solar Energetic Particle (SEP) events, high-flying aircraft passengers and crew, especially on polar routes, are exposed to elevated radiation doses. For astronauts, effective shielding and timely warnings are critical. NASA's Space Radiation Analysis Group (SRAG) works closely with the **CLEAR** Center of Excellence to improve radiation threat forecasting for missions like Artemis.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="watch" class="py-20 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-12 border-b-2 border-solar-orange pb-2 reveal-element">
                The Global Space Weather Watch
            </h2>
            <p class="text-center text-gray-400 max-w-3xl mx-auto mb-10 reveal-element card-delay-1">
                A forecast relies on a globally distributed fleet of research and operational spacecraft. NASA leads the Research-to-Operations-to-Research (R2O2R) initiative, working directly with NOAA to transition scientific understanding into actionable forecasts.
            </p>

            <div class="data-panel rounded-xl p-8 border border-accent/50 mb-12 reveal-element card-delay-2">
                <h3 class="text-2xl font-bold text-accent mb-4">NASA's Heliophysics Fleet</h3>
                <p class="text-gray-300 mb-4">The Sun's influence is measured from multiple vantage pointsâ€”from the Sun itself, to the L1 Lagrange point, to Earth's orbit and beyond.</p>
                <div class="flex justify-center">
                    <a href="https://science.nasa.gov/wp-content/uploads/2020/01/hpd-fleet-chart-jan-2024.jpg" target="_blank" class="text-center">
                        <img src="https://science.nasa.gov/wp-content/uploads/2020/01/hpd-fleet-chart-jan-2024.jpg" alt="NASA Heliophysics Fleet Chart showing active missions" class="max-w-full h-auto rounded-lg shadow-xl border border-gray-600 hover:opacity-80 transition duration-300">
                        <p class="mt-2 text-sm text-gray-500 hover:text-white">Click to view the current NASA Heliophysics Fleet Chart (Jan 2024)</p>
                    </a>
                </div>
            </div>

            <div class="grid md:grid-cols-3 gap-8 text-center">
                
                <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element card-delay-3">
                    <h4 class="text-2xl font-semibold text-solar-orange mb-2">CLEAR Center</h4>
                    <p class="text-gray-400 text-sm">
                        Center for All-Clear Solar Energetic Particle Forecasts. Focuses entirely on forecasting SEP (radiation) events to protect astronauts and sensitive satellite components.
                    </p>
                </div>

                <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element card-delay-4">
                    <h4 class="text-2xl font-semibold text-accent mb-2">SPARTA Center</h4>
                    <p class="text-gray-400 text-sm">
                        Space Weather Research and Technology Applications Center. Dedicated to improving forecasts of Ionospheric Scintillation, which disrupts GPS and high-frequency radio communications.
                    </p>
                </div>

                <div class="bg-card p-6 rounded-xl shadow-lg border border-gray-700 reveal-element card-delay-5">
                    <h4 class="text-2xl font-semibold text-solar-orange mb-2">SWORD Center</h4>
                    <p class="text-gray-400 text-sm">
                        Space Weather Operational Readiness Development Center. Aims to better predict impacts in Low Earth Orbit (LEO), including increased atmospheric drag and the challenge of tracking hazardous orbital debris.
                    </p>
                </div>
            </div>
        </div>
    </section>
    
    <section id="dashboard" class="py-20 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-12 border-b-2 border-accent pb-2 reveal-element">
                Live Data Monitoring Console (Conceptual)
            </h2>
            <p class="text-center text-gray-400 max-w-3xl mx-auto mb-10 reveal-element card-delay-1">
                Forecasting is handled operationally by the NOAA Space Weather Prediction Center (SWPC). This dashboard simulates the critical data points monitored by upstream satellites (like DSCOVR/SWFO-L1) at the L1 Lagrange point, providing up to 60 minutes of warning before a geomagnetic storm impacts Earth.
            </p>

            <div class="data-panel rounded-xl p-8 border border-accent/50 reveal-element card-delay-2">
                <div class="grid md:grid-cols-4 gap-6 text-center">
                    
                    <div class="p-4 bg-gray-900/50 rounded-lg shadow-inner">
                        <p class="text-gray-400 text-sm font-semibold uppercase">Solar Wind Velocity</p>
                        <p id="wind-speed" class="text-5xl font-extrabold mt-1 text-accent">450</p>
                        <p class="text-gray-500">km/s (Normal Range: 300-800)</p>
                    </div>

                    <div class="p-4 bg-gray-900/50 rounded-lg shadow-inner">
                        <p class="text-gray-400 text-sm font-semibold uppercase">Proton Density</p>
                        <p id="density" class="text-5xl font-extrabold mt-1 text-solar-orange">5.2</p>
                        <p class="text-gray-500">p/cmÂ³ (Normal Range: 3-10)</p>
                    </div>

                    <div class="p-4 bg-gray-900/50 rounded-lg shadow-inner">
                        <p class="text-gray-400 text-sm font-semibold uppercase">Total Magnetic Field (Bt)</p>
                        <p id="bt-field" class="text-5xl font-extrabold mt-1 text-white">5.8</p>
                        <p class="text-gray-500">nT (Averages: 5 nT)</p>
                    </div>

                    <div class="p-4 bg-gray-900/50 rounded-lg shadow-inner">
                        <p class="text-gray-400 text-sm font-semibold uppercase">IMF BZ (Geo-effectiveness)</p>
                        <p id="bz-field" class="text-5xl font-extrabold mt-1 text-red-500">-2.1</p>
                        <p class="text-gray-500">nT (Negative = Geoeffective Storm Risk)</p>
                    </div>
                </div>

                <div id="status-indicator" class="mt-8 p-4 rounded-lg text-center bg-gray-700">
                    <span class="font-bold text-lg">Status:</span> Nominal conditions. BZ is slightly southward, indicating minor energy coupling is possible. No immediate CME threat detected.
                </div>
                
                <p class="text-center text-sm text-gray-500 mt-4">
                    The resulting geomagnetic storm severity is measured by the **Kp Index** (G1-G5 scale), used by NOAA SWPC.
                </p>

            </div>
        </div>
    </section>

    <section id="story" class="py-20 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl font-bold text-center text-white mb-12 border-b-2 border-accent pb-2 reveal-element">
                Your Stellar Story: Bridging Science and Society
            </h2>
            <div class="max-w-4xl mx-auto bg-card p-8 rounded-xl shadow-2xl border border-gray-700 reveal-element card-delay-1">
                <p class="text-gray-300 text-lg mb-6">
                    The **Stellar Stories: Space Weather Through the Eyes of Earthlings** challenge asks us to move beyond the data and explore the human element. The complex physics of plasma, CMEs, and solar wind isn't just about magnetic fields; it's about the GPS signal disruption a farmer relies on, the radiation risk for an astronaut, or the beautiful aurora a photographer chases.
                </p>
                <ul class="list-disc list-inside text-gray-400 space-y-2 ml-4">
                    <li>**Narrative Focus:** Translate the concepts of **Bz fields** and **flux ropes** into real-world scenarios affecting professions like airline pilots, satellite operators, or electrical engineers.</li>
                    <li>**Data Storytelling:** Use concepts from the live dashboard (Velocity, Density, Bz) to drive the plot of your story. A sudden drop in BZ to $-20 nT$ is the inciting incident of your tale, leading to a major G3+ storm.</li>
                    <li>**The "Earthling" Perspective:** How does your chosen character, living their everyday life, interpret or react to the invisible forces emanating from the sun? This is the core of the challenge.</li>
                </ul>
                <p class="mt-6 text-xl font-semibold text-solar-orange">
                    By understanding the technical deep dive (this site), you gain the scientific foundation to create a compelling, accurate, and deeply human narrative.
                </p>
            </div>
        </div>
    </section>

    <section id="resources" class="py-10 bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h3 class="text-2xl font-bold text-center text-white mb-6 border-b border-gray-700 pb-2">
                Official NASA & NOAA Resources
            </h3>
            <div class="grid md:grid-cols-3 gap-4 text-sm text-gray-400">
                <ul class="space-y-1">
                    <li class="font-semibold text-accent">NASA Heliophysics Data & Focus:</li>
                    <li>[Space Weather Overview](https://science.nasa.gov/heliophysics/focus-areas/space-weather/)</li>
                    <li>[Solar Storms & Flares Detail](https://science.nasa.gov/sun/solar-storms-and-flares/)</li>
                    <li>[Space Weather Centers of Excellence](https://science.nasa.gov/space-weather-centers-of-excellence/)</li>
                    <li>[Heliophysics Fleet Chart (Image)](https://science.nasa.gov/wp-content/uploads/2020/01/hpd-fleet-chart-jan-2024.jpg)</li>
                </ul>
                <ul class="space-y-1">
                    <li class="font-semibold text-accent">Operational & Visualization Data:</li>
                    <li>[NOAA Space Weather Prediction Center (SWPC)](https://www.swpc.noaa.gov/)</li>
                    <li>[GOES-R Space Weather Multimedia](https://www.goes-r.gov/multimedia/space-weather.html)</li>
                </ul>
                <ul class="space-y-1">
                    <li class="font-semibold text-accent">NASA Scientific Visualization Studio:</li>
                    <li>[SVS: A Year in the Life of SDO](https://svs.gsfc.nasa.gov/12593/)</li>
                    <li>[SVS: Helioviewer Tool](https://svs.gsfc.nasa.gov/12640/)</li>
                    <li>[SVS: Aurorasaurus](https://svs.gsfc.nasa.gov/10809/)</li>
                </ul>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 border-t border-gray-700 py-6">
        <div class="max-w-7xl mx-auto text-center text-gray-500 text-sm">
            <p>&copy; 2025 Heliophysics Hub. Developed for the NASA Space Apps Challenge.</p>
            <p class="mt-2">Educational resource compiled using NASA and NOAA public data concepts.</p>
        </div>
    </footer>

    <script>
        // === Detail Toggle Function (from your code) ===
        function toggleDetails(id, button) {
            const content = document.getElementById(id);
            const isActive = content.classList.contains('active');

            document.querySelectorAll('.detail-content.active').forEach(item => {
                item.classList.remove('active');
                const parent = item.parentElement;
                const siblingButton = parent.querySelector('button');
                if (siblingButton && siblingButton !== button) {
                    siblingButton.textContent = 'Show Technical Details';
                }
            });

            if (isActive) {
                content.classList.remove('active');
                button.textContent = 'Show Technical Details';
            } else {
                content.classList.add('active');
                button.textContent = 'Hide Technical Details';
            }
        }

        // === Reveal on Scroll Animation (Intersection Observer) ===
        document.addEventListener('DOMContentLoaded', () => {
            const revealElements = document.querySelectorAll('.reveal-element');

            const options = {
                root: null, // The viewport is the root
                threshold: 0.1 // 10% of the element must be visible
            };

            const callback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Add the 'is-visible' class to trigger the CSS transition
                        entry.target.classList.add('is-visible');
                        
                        // Stop observing the element once it's visible
                        observer.unobserve(entry.target);
                    }
                });
            };

            const observer = new IntersectionObserver(callback, options);

            revealElements.forEach(element => {
                observer.observe(element);
            });
        });


        // === Mock Data Simulation (from your code) ===
        function generateMockData() {
            // Base values
            let baseV = 400; // Solar wind speed (km/s)
            let baseN = 5.0; // Proton density (p/cm^3)
            let baseBt = 5.0; // Total field (nT)
            let baseBz = 0.0; // BZ component (nT)

            // Introduce minor fluctuation noise
            let velocity = (baseV + (Math.random() * 100 - 50)).toFixed(0);
            const density = (baseN + (Math.random() * 2 - 1)).toFixed(1);
            const bt = (baseBt + (Math.random() * 2 - 1)).toFixed(1);
            let bz = (baseBz + (Math.random() * 6 - 3)).toFixed(1); // Normal fluctuation range -3 to +3

            let statusMessage = "Nominal conditions. BZ is slightly southward, indicating minor energy coupling is possible. No immediate CME threat detected.";
            let bzColor = 'text-white';
            let statusBg = 'bg-gray-700';

            // 1% chance to simulate a major event (Bz strongly negative)
            if (Math.random() < 0.01) {
                const cmeSpeed = (Math.random() * 500 + 800).toFixed(0); // 800 to 1300 km/s
                const cmeBz = (Math.random() * -10 - 5).toFixed(1); // -5 to -15 nT
                
                // Override values for the event
                velocity = cmeSpeed;
                bz = cmeBz;

                statusMessage = `<span class="font-bold text-red-400">ALERT: CME SHOCK FRONT SIMULATED!</span> High Velocity (<span class="text-accent">${velocity} km/s</span>) and Strongly Negative BZ (<span class="text-red-500">${bz} nT</span>). **RISK OF G3+ GEOMAGNETIC STORM!**`;
                bzColor = 'text-red-500';
                statusBg = 'bg-red-900/50';

            } else if (bz < -5) {
                // Minor storm possible (e.g., strong solar wind structure)
                bzColor = 'text-yellow-500';
                statusMessage = `Increased geo-effectiveness. BZ is <span class="text-yellow-400">moderately southward</span>. Minor geomagnetic storm risk (G1/G2).`;
                statusBg = 'bg-yellow-900/50';
            }


            // Update DOM elements
            document.getElementById('wind-speed').textContent = velocity;
            document.getElementById('density').textContent = density;
            document.getElementById('bt-field').textContent = bt;
            document.getElementById('bz-field').textContent = bz;

            // Update Bz color and status
            const bzElement = document.getElementById('bz-field');
            // Remove previous color classes before applying the new one
            bzElement.className = 'text-5xl font-extrabold mt-1'; 
            bzElement.classList.add(bzColor.replace('text-', '')); // Add color class
            
            const statusElement = document.getElementById('status-indicator');
            statusElement.innerHTML = `<span class="font-bold text-lg">Status:</span> ${statusMessage}`;
            // Remove previous background classes before applying the new one
            statusElement.className = 'mt-8 p-4 rounded-lg text-center';
            statusElement.classList.add(statusBg.replace('bg-', ''));
        }

        // Run the simulation every 3 seconds after the page loads
        window.onload = function() {
            generateMockData();
            setInterval(generateMockData, 3000);
        }
    </script>

</body>
</html>